"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .addcurrenttimestamptransformation import (
    AddCurrentTimestampTransformation,
    AddCurrentTimestampTransformationTypedDict,
)
from .casttransformation_input import (
    CastTransformationInput,
    CastTransformationInputTypedDict,
)
from .chainuniontransformation import (
    ChainUnionTransformation,
    ChainUnionTransformationTypedDict,
)
from .coalescepartitionstransformation import (
    CoalescePartitionsTransformation,
    CoalescePartitionsTransformationTypedDict,
)
from .coalescetransformation import (
    CoalesceTransformation,
    CoalesceTransformationTypedDict,
)
from .concatenatetransformation import (
    ConcatenateTransformation,
    ConcatenateTransformationTypedDict,
)
from .custompythontransformation import (
    CustomPythonTransformation,
    CustomPythonTransformationTypedDict,
)
from .deduplicatekeeptransformation import (
    DeduplicateKeepTransformation,
    DeduplicateKeepTransformationTypedDict,
)
from .deduplicatetransformation import (
    DeduplicateTransformation,
    DeduplicateTransformationTypedDict,
)
from .filterwithconditiontransformation import (
    FilterWithConditionTransformation,
    FilterWithConditionTransformationTypedDict,
)
from .finalisers_input import FinalisersInput, FinalisersInputTypedDict
from .groupbytransformation_input import (
    GroupByTransformationInput,
    GroupByTransformationInputTypedDict,
)
from .joinrenameselecttransformation_input import (
    JoinRenameSelectTransformationInput,
    JoinRenameSelectTransformationInputTypedDict,
)
from .jointransformation_input import (
    JoinTransformationInput,
    JoinTransformationInputTypedDict,
)
from .limitrowstransformation import (
    LimitRowsTransformation,
    LimitRowsTransformationTypedDict,
)
from .maskvaluestransformation_input import (
    MaskValuesTransformationInput,
    MaskValuesTransformationInputTypedDict,
)
from .nullifexpressiontransformation import (
    NullIfExpressionTransformation,
    NullIfExpressionTransformationTypedDict,
)
from .optionalsparkconfig import OptionalSparkConfig, OptionalSparkConfigTypedDict
from .persisttransformation import PersistTransformation, PersistTransformationTypedDict
from .pivottransformation_input import (
    PivotTransformationInput,
    PivotTransformationInputTypedDict,
)
from .regressionpredictiontransformation import (
    RegressionPredictionTransformation,
    RegressionPredictionTransformationTypedDict,
)
from .regressionpredictiontransformationlstm import (
    RegressionPredictionTransformationLSTM,
    RegressionPredictionTransformationLSTMTypedDict,
)
from .regressiontrainingtransformation import (
    RegressionTrainingTransformation,
    RegressionTrainingTransformationTypedDict,
)
from .regressiontrainingtransformationlstm import (
    RegressionTrainingTransformationLSTM,
    RegressionTrainingTransformationLSTMTypedDict,
)
from .renamecolumntransformation import (
    RenameColumnTransformation,
    RenameColumnTransformationTypedDict,
)
from .repartitiontransformation import (
    RepartitionTransformation,
    RepartitionTransformationTypedDict,
)
from .replacechaintransformation import (
    ReplaceChainTransformation,
    ReplaceChainTransformationTypedDict,
)
from .replacetransformation import ReplaceTransformation, ReplaceTransformationTypedDict
from .runsqltransformation import RunSQLTransformation, RunSQLTransformationTypedDict
from .selectcolumnstransformation import (
    SelectColumnsTransformation,
    SelectColumnsTransformationTypedDict,
)
from .selectexpressiontransformation import (
    SelectExpressionTransformation,
    SelectExpressionTransformationTypedDict,
)
from .sorttransformation_input import (
    SortTransformationInput,
    SortTransformationInputTypedDict,
)
from .timestamptounixtimetransformation_input import (
    TimestampToUnixtimeTransformationInput,
    TimestampToUnixtimeTransformationInputTypedDict,
)
from .tojsonstructtransformation import (
    ToJSONStructTransformation,
    ToJSONStructTransformationTypedDict,
)
from .tojsontransformation import ToJSONTransformation, ToJSONTransformationTypedDict
from .tostructtransformation import (
    ToStructTransformation,
    ToStructTransformationTypedDict,
)
from .uniontransformation import UnionTransformation, UnionTransformationTypedDict
from .unixtimetotimestamptransformation import (
    UnixtimeToTimestampTransformation,
    UnixtimeToTimestampTransformationTypedDict,
)
from .unpivottransformation import UnpivotTransformation, UnpivotTransformationTypedDict
from pydantic import Discriminator, Tag
from toan_fndtn.types import BaseModel
from toan_fndtn.utils import get_discriminator
from typing import List, Optional, Union
from typing_extensions import Annotated, NotRequired, TypeAliasType, TypedDict


class BuilderPipelineInputInputsTypedDict(TypedDict):
    pass


class BuilderPipelineInputInputs(BaseModel):
    pass


BuilderPipelineInputTransformationTypedDict = TypeAliasType(
    "BuilderPipelineInputTransformationTypedDict",
    Union[
        ReplaceTransformationTypedDict,
        UnixtimeToTimestampTransformationTypedDict,
        PersistTransformationTypedDict,
        CoalesceTransformationTypedDict,
        CoalescePartitionsTransformationTypedDict,
        SelectColumnsTransformationTypedDict,
        AddCurrentTimestampTransformationTypedDict,
        DeduplicateTransformationTypedDict,
        NullIfExpressionTransformationTypedDict,
        FilterWithConditionTransformationTypedDict,
        TimestampToUnixtimeTransformationInputTypedDict,
        SortTransformationInputTypedDict,
        SelectExpressionTransformationTypedDict,
        ReplaceChainTransformationTypedDict,
        CastTransformationInputTypedDict,
        LimitRowsTransformationTypedDict,
        MaskValuesTransformationInputTypedDict,
        RenameColumnTransformationTypedDict,
        RepartitionTransformationTypedDict,
        ChainUnionTransformationTypedDict,
        CustomPythonTransformationTypedDict,
        RunSQLTransformationTypedDict,
        ToJSONTransformationTypedDict,
        GroupByTransformationInputTypedDict,
        UnionTransformationTypedDict,
        ToStructTransformationTypedDict,
        ConcatenateTransformationTypedDict,
        JoinTransformationInputTypedDict,
        DeduplicateKeepTransformationTypedDict,
        ToJSONStructTransformationTypedDict,
        UnpivotTransformationTypedDict,
        PivotTransformationInputTypedDict,
        JoinRenameSelectTransformationInputTypedDict,
        RegressionPredictionTransformationLSTMTypedDict,
        RegressionPredictionTransformationTypedDict,
        RegressionTrainingTransformationLSTMTypedDict,
        RegressionTrainingTransformationTypedDict,
    ],
)


BuilderPipelineInputTransformation = Annotated[
    Union[
        Annotated[AddCurrentTimestampTransformation, Tag("add_current_timestamp")],
        Annotated[CastTransformationInput, Tag("cast")],
        Annotated[ChainUnionTransformation, Tag("chain_union")],
        Annotated[CoalesceTransformation, Tag("coalesce")],
        Annotated[CoalescePartitionsTransformation, Tag("coalesce_partitions")],
        Annotated[ConcatenateTransformation, Tag("concatenate")],
        Annotated[CustomPythonTransformation, Tag("custom_python")],
        Annotated[DeduplicateTransformation, Tag("deduplicate")],
        Annotated[DeduplicateKeepTransformation, Tag("deduplicate_with_keep")],
        Annotated[FilterWithConditionTransformation, Tag("filter_with_condition")],
        Annotated[GroupByTransformationInput, Tag("group_by")],
        Annotated[JoinTransformationInput, Tag("join")],
        Annotated[JoinRenameSelectTransformationInput, Tag("join_rename_select")],
        Annotated[LimitRowsTransformation, Tag("limit_rows")],
        Annotated[MaskValuesTransformationInput, Tag("mask_values")],
        Annotated[NullIfExpressionTransformation, Tag("null_if_expression")],
        Annotated[PersistTransformation, Tag("persist")],
        Annotated[PivotTransformationInput, Tag("pivot")],
        Annotated[RegressionPredictionTransformation, Tag("regression_prediction")],
        Annotated[
            RegressionPredictionTransformationLSTM, Tag("regression_prediction_lstm")
        ],
        Annotated[RegressionTrainingTransformation, Tag("regression_training")],
        Annotated[
            RegressionTrainingTransformationLSTM, Tag("regression_training_lstm")
        ],
        Annotated[RenameColumnTransformation, Tag("rename_column")],
        Annotated[RepartitionTransformation, Tag("repartition")],
        Annotated[ReplaceTransformation, Tag("replace")],
        Annotated[ReplaceChainTransformation, Tag("replace_chain")],
        Annotated[RunSQLTransformation, Tag("run_sql")],
        Annotated[SelectColumnsTransformation, Tag("select_columns")],
        Annotated[SelectExpressionTransformation, Tag("select_expression")],
        Annotated[SortTransformationInput, Tag("sort")],
        Annotated[TimestampToUnixtimeTransformationInput, Tag("timestamp_to_unixtime")],
        Annotated[ToJSONTransformation, Tag("to_json")],
        Annotated[ToJSONStructTransformation, Tag("to_json_struct")],
        Annotated[ToStructTransformation, Tag("to_struct")],
        Annotated[UnionTransformation, Tag("union")],
        Annotated[UnixtimeToTimestampTransformation, Tag("unixtime_to_timestamp")],
        Annotated[UnpivotTransformation, Tag("unpivot")],
    ],
    Discriminator(lambda m: get_discriminator(m, "transform", "transform")),
]


class BuilderPipelineInputTypedDict(TypedDict):
    r"""BuilderPipeline model."""

    config: OptionalSparkConfigTypedDict
    r"""OptionalSparkConfig model."""
    inputs: BuilderPipelineInputInputsTypedDict
    transformations: List[BuilderPipelineInputTransformationTypedDict]
    finalisers: FinalisersInputTypedDict
    r"""Finalisers model."""
    preview: NotRequired[bool]


class BuilderPipelineInput(BaseModel):
    r"""BuilderPipeline model."""

    config: OptionalSparkConfig
    r"""OptionalSparkConfig model."""

    inputs: BuilderPipelineInputInputs

    transformations: List[BuilderPipelineInputTransformation]

    finalisers: FinalisersInput
    r"""Finalisers model."""

    preview: Optional[bool] = False

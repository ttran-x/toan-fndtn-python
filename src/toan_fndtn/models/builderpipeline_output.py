"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .addcurrenttimestamptransformation import (
    AddCurrentTimestampTransformation,
    AddCurrentTimestampTransformationTypedDict,
)
from .casttransformation_output import (
    CastTransformationOutput,
    CastTransformationOutputTypedDict,
)
from .chainuniontransformation import (
    ChainUnionTransformation,
    ChainUnionTransformationTypedDict,
)
from .coalescepartitionstransformation import (
    CoalescePartitionsTransformation,
    CoalescePartitionsTransformationTypedDict,
)
from .coalescetransformation import (
    CoalesceTransformation,
    CoalesceTransformationTypedDict,
)
from .concatenatetransformation import (
    ConcatenateTransformation,
    ConcatenateTransformationTypedDict,
)
from .custompythontransformation import (
    CustomPythonTransformation,
    CustomPythonTransformationTypedDict,
)
from .deduplicatekeeptransformation import (
    DeduplicateKeepTransformation,
    DeduplicateKeepTransformationTypedDict,
)
from .deduplicatetransformation import (
    DeduplicateTransformation,
    DeduplicateTransformationTypedDict,
)
from .filterwithconditiontransformation import (
    FilterWithConditionTransformation,
    FilterWithConditionTransformationTypedDict,
)
from .finalisers_output import FinalisersOutput, FinalisersOutputTypedDict
from .groupbytransformation_output import (
    GroupByTransformationOutput,
    GroupByTransformationOutputTypedDict,
)
from .joinrenameselecttransformation_output import (
    JoinRenameSelectTransformationOutput,
    JoinRenameSelectTransformationOutputTypedDict,
)
from .jointransformation_output import (
    JoinTransformationOutput,
    JoinTransformationOutputTypedDict,
)
from .limitrowstransformation import (
    LimitRowsTransformation,
    LimitRowsTransformationTypedDict,
)
from .maskvaluestransformation_output import (
    MaskValuesTransformationOutput,
    MaskValuesTransformationOutputTypedDict,
)
from .nullifexpressiontransformation import (
    NullIfExpressionTransformation,
    NullIfExpressionTransformationTypedDict,
)
from .optionalsparkconfig import OptionalSparkConfig, OptionalSparkConfigTypedDict
from .persisttransformation import PersistTransformation, PersistTransformationTypedDict
from .pivottransformation_output import (
    PivotTransformationOutput,
    PivotTransformationOutputTypedDict,
)
from .regressionpredictiontransformation import (
    RegressionPredictionTransformation,
    RegressionPredictionTransformationTypedDict,
)
from .regressionpredictiontransformationlstm import (
    RegressionPredictionTransformationLSTM,
    RegressionPredictionTransformationLSTMTypedDict,
)
from .regressiontrainingtransformation import (
    RegressionTrainingTransformation,
    RegressionTrainingTransformationTypedDict,
)
from .regressiontrainingtransformationlstm import (
    RegressionTrainingTransformationLSTM,
    RegressionTrainingTransformationLSTMTypedDict,
)
from .renamecolumntransformation import (
    RenameColumnTransformation,
    RenameColumnTransformationTypedDict,
)
from .repartitiontransformation import (
    RepartitionTransformation,
    RepartitionTransformationTypedDict,
)
from .replacechaintransformation import (
    ReplaceChainTransformation,
    ReplaceChainTransformationTypedDict,
)
from .replacetransformation import ReplaceTransformation, ReplaceTransformationTypedDict
from .runsqltransformation import RunSQLTransformation, RunSQLTransformationTypedDict
from .selectcolumnstransformation import (
    SelectColumnsTransformation,
    SelectColumnsTransformationTypedDict,
)
from .selectexpressiontransformation import (
    SelectExpressionTransformation,
    SelectExpressionTransformationTypedDict,
)
from .sorttransformation_output import (
    SortTransformationOutput,
    SortTransformationOutputTypedDict,
)
from .timestamptounixtimetransformation_output import (
    TimestampToUnixtimeTransformationOutput,
    TimestampToUnixtimeTransformationOutputTypedDict,
)
from .tojsonstructtransformation import (
    ToJSONStructTransformation,
    ToJSONStructTransformationTypedDict,
)
from .tojsontransformation import ToJSONTransformation, ToJSONTransformationTypedDict
from .tostructtransformation import (
    ToStructTransformation,
    ToStructTransformationTypedDict,
)
from .uniontransformation import UnionTransformation, UnionTransformationTypedDict
from .unixtimetotimestamptransformation import (
    UnixtimeToTimestampTransformation,
    UnixtimeToTimestampTransformationTypedDict,
)
from .unpivottransformation import UnpivotTransformation, UnpivotTransformationTypedDict
from pydantic import Discriminator, Tag
from toan_fndtn.types import BaseModel
from toan_fndtn.utils import get_discriminator
from typing import List, Optional, Union
from typing_extensions import Annotated, NotRequired, TypeAliasType, TypedDict


class BuilderPipelineOutputInputsTypedDict(TypedDict):
    pass


class BuilderPipelineOutputInputs(BaseModel):
    pass


BuilderPipelineOutputTransformationTypedDict = TypeAliasType(
    "BuilderPipelineOutputTransformationTypedDict",
    Union[
        ReplaceTransformationTypedDict,
        UnixtimeToTimestampTransformationTypedDict,
        PersistTransformationTypedDict,
        CoalesceTransformationTypedDict,
        CoalescePartitionsTransformationTypedDict,
        SelectColumnsTransformationTypedDict,
        AddCurrentTimestampTransformationTypedDict,
        DeduplicateTransformationTypedDict,
        NullIfExpressionTransformationTypedDict,
        FilterWithConditionTransformationTypedDict,
        TimestampToUnixtimeTransformationOutputTypedDict,
        SortTransformationOutputTypedDict,
        SelectExpressionTransformationTypedDict,
        ReplaceChainTransformationTypedDict,
        CastTransformationOutputTypedDict,
        LimitRowsTransformationTypedDict,
        MaskValuesTransformationOutputTypedDict,
        RenameColumnTransformationTypedDict,
        RepartitionTransformationTypedDict,
        ChainUnionTransformationTypedDict,
        CustomPythonTransformationTypedDict,
        RunSQLTransformationTypedDict,
        ToJSONTransformationTypedDict,
        GroupByTransformationOutputTypedDict,
        UnionTransformationTypedDict,
        ToStructTransformationTypedDict,
        ConcatenateTransformationTypedDict,
        JoinTransformationOutputTypedDict,
        DeduplicateKeepTransformationTypedDict,
        ToJSONStructTransformationTypedDict,
        UnpivotTransformationTypedDict,
        PivotTransformationOutputTypedDict,
        JoinRenameSelectTransformationOutputTypedDict,
        RegressionPredictionTransformationLSTMTypedDict,
        RegressionPredictionTransformationTypedDict,
        RegressionTrainingTransformationLSTMTypedDict,
        RegressionTrainingTransformationTypedDict,
    ],
)


BuilderPipelineOutputTransformation = Annotated[
    Union[
        Annotated[AddCurrentTimestampTransformation, Tag("add_current_timestamp")],
        Annotated[CastTransformationOutput, Tag("cast")],
        Annotated[ChainUnionTransformation, Tag("chain_union")],
        Annotated[CoalesceTransformation, Tag("coalesce")],
        Annotated[CoalescePartitionsTransformation, Tag("coalesce_partitions")],
        Annotated[ConcatenateTransformation, Tag("concatenate")],
        Annotated[CustomPythonTransformation, Tag("custom_python")],
        Annotated[DeduplicateTransformation, Tag("deduplicate")],
        Annotated[DeduplicateKeepTransformation, Tag("deduplicate_with_keep")],
        Annotated[FilterWithConditionTransformation, Tag("filter_with_condition")],
        Annotated[GroupByTransformationOutput, Tag("group_by")],
        Annotated[JoinTransformationOutput, Tag("join")],
        Annotated[JoinRenameSelectTransformationOutput, Tag("join_rename_select")],
        Annotated[LimitRowsTransformation, Tag("limit_rows")],
        Annotated[MaskValuesTransformationOutput, Tag("mask_values")],
        Annotated[NullIfExpressionTransformation, Tag("null_if_expression")],
        Annotated[PersistTransformation, Tag("persist")],
        Annotated[PivotTransformationOutput, Tag("pivot")],
        Annotated[RegressionPredictionTransformation, Tag("regression_prediction")],
        Annotated[
            RegressionPredictionTransformationLSTM, Tag("regression_prediction_lstm")
        ],
        Annotated[RegressionTrainingTransformation, Tag("regression_training")],
        Annotated[
            RegressionTrainingTransformationLSTM, Tag("regression_training_lstm")
        ],
        Annotated[RenameColumnTransformation, Tag("rename_column")],
        Annotated[RepartitionTransformation, Tag("repartition")],
        Annotated[ReplaceTransformation, Tag("replace")],
        Annotated[ReplaceChainTransformation, Tag("replace_chain")],
        Annotated[RunSQLTransformation, Tag("run_sql")],
        Annotated[SelectColumnsTransformation, Tag("select_columns")],
        Annotated[SelectExpressionTransformation, Tag("select_expression")],
        Annotated[SortTransformationOutput, Tag("sort")],
        Annotated[
            TimestampToUnixtimeTransformationOutput, Tag("timestamp_to_unixtime")
        ],
        Annotated[ToJSONTransformation, Tag("to_json")],
        Annotated[ToJSONStructTransformation, Tag("to_json_struct")],
        Annotated[ToStructTransformation, Tag("to_struct")],
        Annotated[UnionTransformation, Tag("union")],
        Annotated[UnixtimeToTimestampTransformation, Tag("unixtime_to_timestamp")],
        Annotated[UnpivotTransformation, Tag("unpivot")],
    ],
    Discriminator(lambda m: get_discriminator(m, "transform", "transform")),
]


class BuilderPipelineOutputTypedDict(TypedDict):
    r"""BuilderPipeline model."""

    config: OptionalSparkConfigTypedDict
    r"""OptionalSparkConfig model."""
    inputs: BuilderPipelineOutputInputsTypedDict
    transformations: List[BuilderPipelineOutputTransformationTypedDict]
    finalisers: FinalisersOutputTypedDict
    r"""Finalisers model."""
    preview: NotRequired[bool]


class BuilderPipelineOutput(BaseModel):
    r"""BuilderPipeline model."""

    config: OptionalSparkConfig
    r"""OptionalSparkConfig model."""

    inputs: BuilderPipelineOutputInputs

    transformations: List[BuilderPipelineOutputTransformation]

    finalisers: FinalisersOutput
    r"""Finalisers model."""

    preview: Optional[bool] = False
